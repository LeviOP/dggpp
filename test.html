<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <style>
        @font-face {
            font-family: 'Roboto';
            src: url(Roboto-Regular.ttf);
        }
    </style>
</head>
<body>
    <input id="input" type="text" spellcheck="false" style="width:2000px; font-family: 'Roboto', Helvetica, 'Trebuchet MS', Verdana, sans-serif; font-size: 13px;"><br>
    <input id="output" type="text" spellcheck="false" style="width:2000px; font-family: 'Roboto', Helvetica, 'Trebuchet MS', Verdana, sans-serif; font-size: 13px;">
    <script>
        var widths = {
            "a": 24,
            "b": 24.9,
            "c": 23.2,
            "d": 25,
            "e": 23.5,
            "f": 15.4,
            "g": 24.9,
            "h": 24.5,
            "i": 10.7,
            "j": 10.6,
            "k": 22.5,
            "l": 10.7,
            "m": 38.9,
            "n": 24.5,
            "o": 25.3,
            "p": 24.9,
            "q": 25.2,
            "r": 15,
            "s": 22.8,
            "t": 14.5,
            "u": 24.4,
            "v": 21.4,
            "w": 33.3,
            "x": 21.9,
            "y": 21,
            "z": 22,
            "A": 28.9,
            "B": 27.6,
            "C": 28.9,
            "D": 29,
            "E": 25.2,
            "F": 24.5,
            "G": 30.2,
            "H": 31.6,
            "I": 12.1,
            "J": 24.5,
            "K": 27.8,
            "L": 23.9,
            "M": 38.7,
            "N": 31.6,
            "O": 30.4,
            "P": 28,
            "Q": 30.4,
            "R": 27.3,
            "S": 26.3,
            "T": 26.8,
            "U": 28.7,
            "V": 28.2,
            "W": 39.3,
            "X": 27.7,
            "Y": 27,
            "Z": 26.5,
            " ": 11,
            "`": 13.7,
            "~": 30.1,
            "!": 11.4,
            "@": 39.9,
            "#": 27.3,
            "%": 32.5,
            "^": 18.5,
            "&": 27.5,
            "*": 19.1,
            "(": 15.1,
            ")": 15.4,
            "-": 12.2,
            "_": 20,
            "=": 24.3,
            "+": 25.1,
            "[": 11.8,
            "]": 11.8,
            "{": 15,
            "}": 15,
            "\\": 18.2,
            "|": 10.8,
            ";": 9.4,
            ":": 10.7,
            "'": 5.4,
            "\"": 11.8,
            ",": 8.7,
            ".": 11.6,
            "<": 22.5,
            ">": 23.1,
            "/": 13.4,
            "?": 20.9
        }
        document.querySelector("#input").oninput = () => {
            document.querySelector("#output").value = "_".repeat(Math.floor(calcCharWidth(document.querySelector("#input").value) / 20))
            console.log(calcCharWidth(document.querySelector("#input").value))
        }
        
        function calcCharWidth(str) {
            let length = 0
            str.split("").forEach(char => {
                if (widths[char]) return length += widths[char]
                length += 28
            })
            return length
        }

        // latestMessage = Array.from(document.querySelector("#chat-output-frame").children).filter(win => {if(win.style.display!=="none")return(win)})[0].children[0].children[Array.from(document.querySelector("#chat-output-frame").children).filter(win => {if(win.style.display!=="none")return(win)})[0].children[0].children.length-1]
        // if (latestMessage.children[0].classList[0] == "features") {
        //     let flairs = latestMessage.children[1].children[0].title === "Subscriber" ? latestMessage.children[1].children.length - 1 : latestMessage.children[1].children.length
        //     let msgNameLength = calcCharWidth(latestMessage.children[2].innerText)
        //     let nameLength = calcCharWidth(document.querySelector("#chat-input-control").placeholder.slice(16, -4))
        //     let firstEmote = Array.from(latestMessage.children[4].children).filter(elm=>{if(Array.from(elm.classList).includes("emote"))return(elm)})[0].classList[1]
        //     let message = latestMessage.children[4].innerText.split(firstEmote)[0]
        //     let messageLength = calcCharWidth(message)
        // }
        



































    </script>
</body>
</html>
